<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<!--<f:metadata>
    <f:viewAction action="#{loginCtrl.isInrole()}" />
</f:metadata> -->
<h:head>
	<meta charset="utf-8"/>
	<title>Lista użytkowników</title>
	<h:outputStylesheet name="css/viewstyle.css" library="template" />
</h:head>
<h:body style="background-color: #eee; margin: 0.5em;">
<div id="container">
		<div id="header">
		<ui:insert name="menu">
			<div id="menu" class="box bottom-space">
				<ui:include src="/templates/menu-snippet-user.xhtml" />
			</div>
		</ui:insert>
        <div class="col-sm-6 offerView" style="opacity:0.9;padding:20px; text-align: justify;font-size:20px; border-radius: 10px 0px 0px 10px;">
	<h:form>

            <table class="table table-borderless">

                <tbody>
                <tr>
                    <td style="font-size: 30px;">Zmiana hasła:</td>
                  
                </tr>

                </tbody>
            </table>
            <div class="col-sm-8 "> 
                <label for="id_password">Stare hasło <span class="text-danger">*</span></label>
                <p:inputText id="id_password" type="password" name="password" value="#{accountManagement.pass}" class="form-control" required="true"
									requiredMessage="Podaj stare hasło!"></p:inputText>
            </div>
            <div class="col-sm-8">
                <label for="id_password_new">Nowe hasło <span class="text-danger">*</span></label>
                <p:inputText id="id_password_new" type="password" name="password_new" value="#{accountManagement.newpass}" class="form-control" required="true"
									requiredMessage="Podaj nowe hasło!"
									validatorMessage="Hasło musi być posiadać cyfrę, duże, małe litery i zawierać conajmniej 8 znaków">
									<f:validateRegex
										pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$" /></p:inputText>
            </div>
            <div class="col-sm-8">
                <label for="id_confirmPass_new">Powtórz hasło <span class="text-danger">*</span></label>
                <p:inputText id="id_confirmPass_new" type="password" name="confirmPass_new" value="#{accountManagement.confPass}" class="form-control" required="true"
									requiredMessage="Powtórz hasło!"></p:inputText>
            </div>
            <br></br>
             <div class="text-right" style="clear:both; margin-top: 12px; margin-right: 10px; ">
                 <p:commandButton value="Zmień hasło" id="ajax" update="msg"
								action="#{accountManagement.changePass()}" style="margin-right:20px;"
								styleClass="ui-priority-primary" />
                        </div> 
			<p:messages id="msg" />
			</h:form>
        </div>

        <div class="col-sm-6 offerView" style=" opacity:0.9; text-align: justify;font-size:20px; padding:20px; border-radius: 0px 10px 10px 10px;  ">

            <table class="table table-dark">
                <header style=" font-size: 30px;">Dane konta:</header>
                <tbody>
                    <tr>
                        <td>Imie:</td>
                        <td>#{remoteClient.details.name}</td>
                    </tr>
                    <tr>
                        <td>Login:</td>
						<td>#{remoteClient.details.login}</td>
					</tr>	
					<tr>	
						<td>Kraj:</td>
						<td>#{remoteClient.details.country}</td>
					</tr>	
					<tr>	<td>Email:</td>
						<td>#{remoteClient.details.email}</td>
					</tr>	
					<tr>	<td>Telefon:</td>
						<td>#{remoteClient.details.mobile}</td>
                    </tr>	
					
                   
                   
                   
                   
                <hr></hr>
             
               
                </tbody>
            </table>
            <div class="text-right" style="clear:both; margin-top: 12px; margin-right: 10px; ">
            <h:form>
                           <a href="{$conf->action_url}adressEditView" target="_blank">
                            <p:commandButton value="Zmień dane"
								action="#{accountChangeDetails.detailsPage()}" style="margin-bottom:1em;" />
                           </a>
                           </h:form>
                        </div> 
        </div>
	<div id="push"></div>
	</div>
	</div>
<div id="footer">
		<ui:insert name="footer">
			<div id="footer" class="box bottom-space">
				<ui:include src="/templates/footer-snippet.xhtml" />
			</div>
		</ui:insert>
</div>
</h:body>
</html>